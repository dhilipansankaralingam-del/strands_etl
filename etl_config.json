{
  "jobs": [
    {
      "job_id": "customer_order_summary",
      "job_name": "Customer Order Summary ETL",
      "description": "Aggregates customer purchase data with product and customer dimensions",
      "enabled": true,

      "execution": {
        "script_path": "./pyscript/customer_order_summary_glue.py",
        "script_type": "pyspark",
        "schedule": "0 2 * * *",
        "timeout_minutes": 180
      },

      "platform": {
        "user_preference": null,
        "allow_agent_override": true,
        "glue_job_name": "customer-order-summary-etl",
        "dpu_count": 10,
        "glue_version": "3.0",
        "python_version": "3"
      },

      "workload": {
        "data_volume_gb": 400,
        "estimated_file_count": 2000,
        "complexity": "complex",
        "query_pattern": "batch",
        "incremental": false,
        "partition_keys": ["transaction_date"]
      },

      "data_sources": [
        {
          "name": "transactions",
          "type": "s3",
          "path": "s3://my-data-bucket/raw/transactions/",
          "format": "parquet",
          "estimated_size_gb": 350,
          "file_count": 1800
        },
        {
          "name": "customers",
          "type": "s3",
          "path": "s3://my-data-bucket/dimensions/customers/",
          "format": "parquet",
          "estimated_size_gb": 0.05,
          "file_count": 1,
          "broadcast_eligible": true
        },
        {
          "name": "products",
          "type": "s3",
          "path": "s3://my-data-bucket/dimensions/products/",
          "format": "parquet",
          "estimated_size_gb": 0.1,
          "file_count": 1,
          "broadcast_eligible": true
        }
      ],

      "data_quality": {
        "enabled": true,
        "fail_on_error": true,
        "completeness_checks": [
          {
            "field": "transaction_id",
            "required": true,
            "null_threshold_percent": 0,
            "severity": "critical"
          },
          {
            "field": "customer_id",
            "required": true,
            "null_threshold_percent": 0,
            "severity": "critical"
          }
        ],
        "accuracy_rules": [
          {
            "field": "email",
            "rule_type": "regex",
            "pattern": "^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}$",
            "severity": "high"
          },
          {
            "field": "amount",
            "rule_type": "range",
            "min": 0,
            "max": 1000000,
            "severity": "high"
          }
        ],
        "duplicate_check": {
          "enabled": true,
          "key_fields": ["transaction_id"],
          "threshold_percent": 1,
          "action": "warn"
        }
      },

      "compliance": {
        "pii_fields": ["email", "phone"],
        "gdpr_applicable": true,
        "data_classification": "confidential",
        "retention_days": 2555
      },

      "cost": {
        "budget_per_run_usd": 25.0,
        "optimization_priority": "balanced"
      }
    }
  ],

  "global_settings": {
    "aws_region": "us-east-1",
    "environment": "production",
    "agents": {
      "decision_agent": {
        "enabled": true,
        "respect_user_preference": true,
        "always_provide_recommendation": true
      },
      "quality_agent": {
        "enabled": true,
        "fail_job_on_critical_issues": true
      }
    }
  }
}
